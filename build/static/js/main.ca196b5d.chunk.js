(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{202:function(e,a,t){e.exports=t(341)},341:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(49),o=t.n(l),c=t(43),u=t(27),i=(t(207),t(351)),m=t(40),d=t(190),s=t(191),b=t(31),E=t(32),p=t(62);function g(){var e=Object(p.a)(["\n  mutation AddAuthor($name: String!, $age: Int!) {\n    addAuthor(name: $name, age: $age) {\n      id\n      name\n    }\n  }\n"]);return g=function(){return e},e}function h(){var e=Object(p.a)(["\n  query Book($id: ID!) {\n    book(id: $id) {\n      id\n      name\n      genre\n      author {\n        id\n        name\n        age\n        books {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return h=function(){return e},e}function f(){var e=Object(p.a)(["\n  mutation AddBook($name: String!, $genre: String!, $authorId: ID!) {\n    addBook(name: $name, genre: $genre, authorId: $authorId) {\n      id\n      name\n    }\n  }\n"]);return f=function(){return e},e}function v(){var e=Object(p.a)(["\n  {\n    authors {\n      id\n      name\n    }\n  }\n"]);return v=function(){return e},e}function j(){var e=Object(p.a)(["\n  {\n    books {\n      id\n      name\n    }\n  }\n"]);return j=function(){return e},e}var k=Object(c.b)(j()),y=Object(c.b)(v()),O=Object(c.b)(f()),C=Object(c.b)(h()),A=Object(c.b)(g()),S=t(355),w=t(189),I=t(71);var $=function(e){var a=Object(E.b)(C,{variables:{id:e.id}}),t=a.loading,n=a.error,l=a.data;if(t)return r.a.createElement("p",null,"Loading...");if(n)return r.a.createElement("p",null,"Error");var o=l.book;return r.a.createElement("div",{style:{marginLeft:"50px",position:"fixed"}},r.a.createElement(S.a,null,r.a.createElement(w.a,{src:"https://react.semantic-ui.com/images/avatar/large/".concat(["matthew.png","steve.jpg","molly.png","jenny.jpg","elliot.jpg","daniel.jpg","helen.jpg","veronika.jpg","elyse.png","matt.jpg"][Math.floor(10*Math.random())]),wrapped:!0,ui:!1}),r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Header,null,o.author.name,". ",o.author.age),r.a.createElement("hr",{style:{visibility:"hidden"}}),r.a.createElement(S.a.Meta,null,r.a.createElement("span",{className:"date"},"Book Title: ",o.name)),r.a.createElement(S.a.Meta,null,r.a.createElement("span",{className:"date"},"Genre: ",o.genre)),r.a.createElement(S.a.Description,null," ")),o.author.books.length>0?r.a.createElement(S.a.Content,{extra:!0},r.a.createElement(I.a,{basic:!0,color:"blue"},r.a.createElement(m.a,{name:"book",color:"blue"}),o.author.books.length-1," other"," ",o.author.books.length-1===1?r.a.createElement("span",null,"publication"):r.a.createElement("span",null,"publications")," ","by ",o.author.name,r.a.createElement("hr",{style:{visibility:"hidden"}}),o.author.books.filter((function(e){return e.id!==o.id})).map((function(e){return r.a.createElement("li",{key:e.id},e.name)})))):null))},B=t(122),x=t(354),F=t(350);var M=function(){var e=Object(n.useState)(null),a=Object(b.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(""),c=Object(b.a)(o,2),u=c[0],i=c[1],m=Object(n.useState)(null),d=Object(b.a)(m,2),p=d[0],g=d[1],h=Object(E.b)(k),f=h.loading,v=h.error,j=h.data;if(f)return r.a.createElement("p",null,"Loading...");if(v)return r.a.createElement("p",null,"Error");var y=["matthew.png","steve.jpg","molly.png","jenny.jpg","elliot.jpg","daniel.jpg","helen.jpg","veronika.jpg","elyse.png","matt.jpg"];return console.log(j),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{columns:2,divided:!0},r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Column,null,r.a.createElement(B.a,{raised:!0},r.a.createElement(I.a,{color:"teal",ribbon:!0},"Books"),r.a.createElement(x.a,{animated:!0,verticalAlign:"middle"},r.a.createElement(F.a,{fluid:!0,icon:"search",placeholder:"Search books...",value:u,onChange:function(e){i(e.target.value);var a=j.books.filter((function(e){return e.name.toLowerCase().match(u.toLowerCase())&&!0}));g(a)}}),p?p&&p.map((function(e){return r.a.createElement(S.a,{fluid:!0,key:e.id,onClick:function(a){return l(e.id)}},r.a.createElement(S.a.Content,null,r.a.createElement(w.a,{floated:"right",size:"mini",src:"https://react.semantic-ui.com/images/avatar/large/".concat(y[Math.floor(10*Math.random())])}),r.a.createElement(S.a.Header,null,e.name)))})):j.books&&j.books.map((function(e){return r.a.createElement(S.a,{fluid:!0,key:e.id,onClick:function(a){return l(e.id)}},r.a.createElement(S.a.Content,null,r.a.createElement(w.a,{floated:"right",size:"mini",src:"https://react.semantic-ui.com/images/avatar/large/".concat(y[Math.floor(10*Math.random())])}),r.a.createElement(S.a.Header,null,e.name)))}))))),r.a.createElement(s.a.Column,null,t&&r.a.createElement($,{id:t})))))},q=t(97),L=t(352),D=t(342);var Q=function(){var e=Object(n.useState)(""),a=Object(b.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(""),c=Object(b.a)(o,2),u=c[0],i=c[1],m=Object(n.useState)(""),d=Object(b.a)(m,2),s=d[0],p=d[1],g=Object(E.b)(y),h=g.loading,f=g.error,v=g.data,j=Object(E.a)(O,{update:function(e,a){var t=e.readQuery({query:k});t.books=[a.data.addBook].concat(Object(q.a)(t.books)),e.writeQuery({query:k,data:t})},refetchQueries:[{query:k}]}),C=Object(b.a)(j,2),A=C[0],S=C[1],w=S.loading,I=S.error;return h||w?r.a.createElement("p",null,"Loading..."):f||I?r.a.createElement("p",null,"Error"):r.a.createElement("div",null,r.a.createElement(L.a,{onSubmit:function(e){e.preventDefault(),A({variables:{name:t,genre:u,authorId:s}}),l(""),i(""),p("")}},r.a.createElement(L.a.Field,null,r.a.createElement("label",null,"Book Name"),r.a.createElement("input",{value:t,type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement(L.a.Field,null,r.a.createElement("label",null,"Genre"),r.a.createElement("input",{value:u,type:"text",onChange:function(e){return i(e.target.value)}})),r.a.createElement(L.a.Field,{fluid:!0,label:"Author",control:"select",value:s,onChange:function(e){return p(e.target.value)}},r.a.createElement("option",null,"Select Author"),v.authors&&v.authors.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement(D.a,{type:"submit",basic:!0,color:"teal"},"Add Book")))};var N=function(){var e=Object(n.useState)(""),a=Object(b.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(0),c=Object(b.a)(o,2),u=c[0],i=c[1],m=Object(E.b)(y),d=m.loading,s=m.error,p=(m.data,Object(E.a)(A,{update:function(e,a){var t=e.readQuery({query:y});t.authors=[a.data.addAuthor].concat(Object(q.a)(t.authors)),e.writeQuery({query:y,data:t})}})),g=Object(b.a)(p,2),h=g[0],f=g[1],v=f.loading,j=f.error;return d||v?r.a.createElement("p",null,"Loading..."):s||j?r.a.createElement("p",null,"Error"):r.a.createElement("div",null,r.a.createElement(L.a,{onSubmit:function(e){e.preventDefault(),h({variables:{name:t,age:u}}),l(""),i(0)}},r.a.createElement(L.a.Field,null,r.a.createElement("label",null,"Author Name"),r.a.createElement("input",{value:t,type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement(L.a.Field,null,r.a.createElement("label",null,"Age"),r.a.createElement("input",{value:u,type:"number",onChange:function(e){return i(parseInt(e.target.value))}})),r.a.createElement(D.a,{type:"submit",basic:!0,color:"teal"},"Add Author")))},H=t(356);var z=function(e){var a=[{menuItem:{key:"books",icon:"book",content:"Add Book"},render:function(){return r.a.createElement(H.a.Pane,null,r.a.createElement(Q,null))}},{menuItem:{key:"author",icon:"users",content:"Add Author"},render:function(){return r.a.createElement(H.a.Pane,null,r.a.createElement(N,null))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{panes:a}))},G=new c.a({uri:"https://book-keeper-app-server.herokuapp.com/graphql"});var J=function(){return r.a.createElement(i.a,null,r.a.createElement(u.a,{client:G},r.a.createElement(d.a,{pointing:!0,secondary:!0},r.a.createElement(d.a.Item,null,r.a.createElement(m.a,{name:"book",color:"teal"})),r.a.createElement(d.a.Item,{name:"Book Keeper Application",active:!0,color:"teal"})),r.a.createElement(s.a,{columns:2,divided:!0,style:{marginTop:"20px"}},r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Column,{width:4},r.a.createElement(z,null)),r.a.createElement(s.a.Column,{width:12},r.a.createElement(M,null))))))};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.ca196b5d.chunk.js.map